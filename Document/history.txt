History of ANSI text Browser fow Windows
    --- 『油鵜座』の歩み
                                                             since 30-Aug-1997
                                                                 Version 1.2.0
                                                          Muraoka Taro (KoRoN)
                                            Last Change: 15:24:18 10-Mar-2001.

■ 過去の栄光(更新履歴)
  ○ Version 1.2.4 (07-Mar-2001)
    サイズ自動調整機能仕様変更・高さ方向追加
    メッセージなど微修正

  ○ Version 1.2.3 (06-Mar-2001)
    一部アクセラレータの割り当て変更
    JISファイルを開く際の不具合修正
    外部エディタの選択ブラウズを実装

  ○ Version 1.2.2 (30-Sep-2000)
    選択部分の色をシステムに合わせる
    外部エディタ起動機能の実装

  ○ Version 1.2.1 (25-Sep-2000)
    レジストリ書き込みの再修正

  ○ Version 1.2.0 (24-Sep-2000)
    レジストリ書き込みの修正
    タブ幅をレジストリに保存
    マウスホイール対応コードを修正
    ドキュメントの修正
  
  ○ Ver 1.10(1997.10.17)
    コードのシェイプアップ
    2重起動の件を考慮
    スクロール、16bitの壁をクリア
    カラー反転実装
    検索の実装
    メニュー・ステータスバーの表示・非表示切替実装
    メニューの挙動・項目の配置を変更
    スクロール関係のルーチンの整理
    改行コードを表示
    ファイルの先頭・末尾への移動実装
    全文選択機能を実装
    マニュアル・メッセージ等、ドキュメント類のミス修正

  ○ Ver 1.00(1997.10.04)
    メモリへの不正なアクセスを排除(バグFIX)
    漢字コード強制変更を実装
    インテリマウス対応コードの見直し→クラス化
    JIS→EUC変換ルーチンを変更
    漢字コード判定ルーチンの修正
    ステータスウィンドウに現在の漢字コードを表示
    ステータスウィンドウのインターフェース改良

  ○ Ver 1.00(1997.09.26)
    ステータスバーにメッセージを表示
    ドラッグ時のスクロール
    ファジィ漢字コード判別ルーチン搭載
    EUCとJISフィルタ搭載
    スクロールバーに関するバグFIX

  ○ Ver 1.00β(1997.09.25)
    クリップボードに対応
    『歩み』を作成添付(笑)

  ○ Ver 1.00α(1997.09.06)
    ウィンドウ幅自動設定
    ポップアップメニュー実装
    マウスカーソル変更
    行数表示

  ○ Ver 1.00α(1997.09.04)
    バージョン情報実装(アドレス部はクリップボードに対応)
    コマンドラインパラメータを参照するようになった
    マイクロソフトインテリマウス対応
    インターフェース部分をクラス化した
    ステータスバーを採用

  ○ Ver 0.95(1997.08.31)
    ドラッグでファイルを開けるようにした
    カラー表示実装

  ○ Ver 0.75(1997.08.30)
    取り敢えずログが読めるようになったのでαとして公開

■ 思い出(後書き)
  ○ Version 1.2.4 (07-Mar-2001)
                                                                   07-Mar-2001
  ウィンドウサイズ自動調整機能を仕様変更。テキストが読込まれていない状態で幅調
  整をすると、80文字に設定されるようにした。ウィンドウがはみ出ている場合は適当
  に画面の真中に戻すようにした。さらに高さ方向を画面のサイズに合わせて「適当」
  に調節できる機能を付ける。最大は66行。これはUNIXのmanページが読みやすい高
  さ、ということで(笑)。

                                                                   07-Mar-2001
  Vectorへの登録を決意。登録希望場所はユーティリティ→テキストファイル用→テキ
  スト表示とする。ソフト名"ABrowser"からリストのトップに立つのでは、と予想でき
  る(笑)。

                                                                   07-Mar-2001
  三澤さんより指摘・要望を受けて以下の2点について修正した。1)エディタ設定ダイ
  アログのデフォルト動作(Return押下時)を、キャンセル(旧:閉じる)から設定に変
  更。2)メニューテキスト、自動幅調整のショートカットキー表示をCTRL+Hに修正。
  使ってくれる人がいることはフリーでソフトを配る上で何よりの喜び☆。

  ○ Version 1.2.3 (06-Mar-2001)
                                                                   06-Mar-2001
  CTRL-Wを「終了」に割り当てる。従来の幅自動設定はCTRL-H(Horizontal)に設定。こ
  の変更はCTRL-Wでウィンドウを閉じることができる、エクスプローラとの自然なイン
  ターフェースを追求する(村岡にその癖がついた)ため。

                                                                   04-Nov-2000
  SBCSで終わるファイルを開く際に、確保したメモリ以上に読み込んでしまっていた。
  それにより例外が生じ落ちるバグを修正。

                                                                   17-Oct-2000
  普段使わないせいだけど、やっと外部エディタの登録を参照して登録することができ
  るようになった。

  ○ Version 1.2.2 (30-Sep-2000)
                                                                   30-Sep-2000
  'v'でエディタを起動できるようにした。起動するエディタはCtrl+Shift+Vで設定で
  きる。gvimとの相性は抜群である。

  ○ Version 1.2.1 (25-Sep-2000)
                                                                   25-Sep-2000
  治したつもりだったが、レジストリが書き込まれないバグが残っていた。再度調べて
  みたらRegCreateKeyExでNON_VOLATILEしてなかった。Win98時にはちゃんとレジスト
  リディスクに書かれていたから、Win98は簡易仕様というわけか?。さすがMS。あとレ
  ジストリエントリをKoRoNに変更。

                                                                   24-Sep-2000
  3年ぶりのコード修正。久しぶりにソースをみたが、思ったよりも綺麗に書かれてい
  て助かった。自分の環境をWindows2000に替えたために不都合が多くなったため。電
  源を切ったあとでABrowserのレジストリが消えてしまう問題が一番の動機。ホイール
  マウスは簡易対応したはずだったがWin98以降動かなくなっていた。また、最近は
  ソースをタブ幅8カラムで書くことが多いので、その辺りもレジストリに記憶するよ
  うに修正。

  ○ Ver 1.10
  大量に機能・コードを追加した結果、実行ファイルもかなり大きくなった。最適化や
  関数の整理で小さくなるように対処したが、この程度が限界だった。時間的に結構つ
  めて作業していたので、コードが煩雑化して読みにくい。これでテキストブラウザと
  しての一通りの機能は揃っただろう。このへんで「油鵜座」は最終版にしたいと思っ
  ている。別のプログラムも書きたいし、もし油鵜座にさらに手を施すにしても、コー
  ド整理が必要になるので、かなり先の事になるだろうから。

  ○ Ver 1.00
  ステータスウィンドウのインターフェースを改良。より簡単にターゲットの指定が出
  来るようにした。漢字コードはやはり表示してあった方が使いやすい。判定の順序が
  違っていたためにミスがあったのは御粗末だった。SJIS→JIS→EUC→BIN、だったの
  をJIS→SJIS→EUC→BINに修正。JISハンドブック58に従い、JIS変換ルーチンを変
  更。ただし完全に正しいかは自信がない。またJIS半角カナには未対応。インテリマ
  ウスへの対応方法をまともなものに変更。それに伴いクラス化。漢字コード強制変更
  機能を実装。認識ミスがあった際には役に立つだろう。
							    1997.10.04修正追記

  スクロールバーが無くなってしまうバグをFIX。バーのボタンを無効化する際の不手
  際が原因だった。EUCとJISのフィルタは、以前に作ったものを改良して転用。土台が
  良いので、素直に載った。もっともJISの旧年度策定分に関しては全然対応していな
  い。漢字コード判別ルーチンは、その時のモノから多少良くなっている。実はファジ
  イとは名ばかりで、結構いい加減な判別ルーチンだ。あ、合ってるのか…(笑)。

  ドラッグ時のスクロールはタイマーを使用。タイマーを使わずに実現する方法を幾つ
  か試したが、どれもうまく行かなくてかなり時間を使った。ステータスバーは当初、
  Windowsのコモンコントロールを使用した。しかし思い通りの動作をしないので、自
  分で組む。幾つか引っ掛かるところがあり、これまた時間がかかった。

  なんとか正式版が完成した。変換したテキストをセーブできるようにしろとか、検索
  させろとか、いろんな意見はあるかもしれないが、最低限のモノを軽く提供するとい
  う当初のコンセプトには、このくらいで丁度良いのだろう。まあ要望があれば、機能
  は増やしていきたいと思っている。MFCのような既存のライブラリを使用しないで、
  純粋にWin32で作ったので、結構大変だったな。シェアまでとはいかなくても、カン
  パウェアにしちゃおうかな(笑)。もっともカンパならば、いつでも受付けますけどね
  (笑)。

  ○ Ver 1.00β
  課題のためにかなり開発期間があいた。クリップボードの実装のために、表示系のア
  ルゴリズムを再設計。クエリーの選択を実現するのは難しかった。その他にも、イン
  ターフェース系も多少手を加えているが、使う人にはわかりっこないのが空しい。
  MFCを使用せずに純粋なWin32で作成しているので、かなりサイズが小さく動作も軽快
  だと思うが、さすがにプログラミングの手間は多い。多分メジャーバージョンをあげ
  る時はMFCに移行するだろう。基本をC++で作ってあるのでMFCへの移行は案外楽だろ
  うし。

  ○ Ver 1.00α
  ステータスバーを実装するために、ウィンドウ周りのコードを1から見直し。具体的
  には子ウィンドウを用意しなければならなかった。その過程で気が付いたのだが、
  ウィンドウのプロシージャシステムとオブジェクト指向は、詳しくは書かないけどあ
  まり相性が良くないようだ。それとももっと簡潔な方法があるのだろうか?。今バー
  ジョンよりコマンドラインを参照するので、やっとWindowsらしい使い方が出来るよ
  うになった。課題?。できているわけないじゃん(^^)☆。

  ○ Ver 0.90
  ファイル・文字データを扱うクラスを整理したので、拡張性の高いプログラムになっ
  てきた。これがC++の醍醐味って奴だろう。なんとかカラー表示が実現できた。なか
  なかナイスでイカス。ドラッグする事でファイルを開けるようになった。だがコマン
  ドラインはまだなので、Win用としてはハッキリいって役立たずだ。こっちを先に作
  るべきだったかな(^^:)。しかも課題まるでやってない(^^;;;;;;;;;)。

  ○ Ver 0.75
  必要に迫られANSIターミナルを作っていたら、なかなかなANSI解析文が書けたので流
  用してみました。夏休みの課題もそっちのけ(^^;)。でも実際には流用ではなくなり
  ました。書き直し。本当はカラーがでるようになってから公開すればよかったのだけ
  ど、ちょっと早まったかな?。とにかくα版なのでご意見募集中。
----
生きる事への強い意志が同時に自分と異なる生命をも尊ぶ心となる     
Muraoka Taro /KoRoN <koron@tka.att.ne.jp>

 vi:ts=8 sts=2 sw=2 tw=78 et
